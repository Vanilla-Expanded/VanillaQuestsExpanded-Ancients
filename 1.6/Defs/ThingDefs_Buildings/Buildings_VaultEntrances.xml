<?xml version="1.0" encoding="utf-8" ?>
<Defs>
	<ThingDef ParentName="VQEA_AncientsBuildingBase">
		<defName>VQEA_LockedVaultDoor</defName>
		<label>sealed vault door</label>
		<description>A sealed vault entrance leading to an underground laboratory. Still structurally sound, but heavily pressurized. Can be forced open to allow access.</description>
		<altitudeLayer>FloorEmplacement</altitudeLayer>
		<passability>Impassable</passability>
		<disableImpassableShotOverConfigError>true</disableImpassableShotOverConfigError>
		<selectable>true</selectable>
		<fillPercent>0.2</fillPercent>
		<size>(7,5)</size>
		<tickerType>Normal</tickerType>
		<destroyable>false</destroyable>
		<useHitPoints>false</useHitPoints>
		<rotatable>false</rotatable>
		<statBases>
			<Flammability>0</Flammability>
		</statBases>
		<graphicData>
			<texPath>Things/Building/Doors/VaultRampEntrance_Closed</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<drawSize>(7,5)</drawSize>
		</graphicData>
		<building>
			<paintable>false</paintable>
			<claimable>false</claimable>
			<deconstructible>false</deconstructible>
			<neverBuildable>true</neverBuildable>
			<isTargetable>false</isTargetable>
		</building>
		<comps>
			<li Class="VEF.Buildings.CompProperties_JammedAirlock">
				<!-- Interactable -->
				<doorToConvertTo>VQEA_VaultRamp</doorToConvertTo>
				<activeTicks>1</activeTicks>
				<ticksToActivate>3600</ticksToActivate>
				<activateTexPath>UI/Gizmo/UnsealVault</activateTexPath>
				<activateLabelString>Unseal vault door</activateLabelString>
				<activateDescString>Choose someone to unseal the vault door, allowing access to the underground vault.</activateDescString>
				<guiLabelString>Choose who should do this</guiLabelString>
				<jobString>Force this door open</jobString>
				<activatingStringPending>forcing door open</activatingStringPending>
				<activatingString>forcing door open: {1}s</activatingString>
				<messageCompletedString>{PAWN_nameDef} has successfully forced the door open.</messageCompletedString>
				<targetingParameters>
					<canTargetBuildings>false</canTargetBuildings>
					<canTargetAnimals>false</canTargetAnimals>
					<canTargetMechs>false</canTargetMechs>
					<onlyTargetControlledPawns>true</onlyTargetControlledPawns>
				</targetingParameters>
				<interactionEffecter>ConstructMetal</interactionEffecter>
			</li>
		</comps>
	</ThingDef>

	<ThingDef ParentName="VQEA_AncientsBuildingBase">
		<defName>VQEA_VaultRamp</defName>
		<label>vault ramp</label>
		<description>A heavily reinforced vehicle ramp with personnel access stairway going down the middle. Leads deeper underground, into a sealed ancient vault.</description>
		<altitudeLayer>FloorEmplacement</altitudeLayer>
		<passability>Impassable</passability>
		<disableImpassableShotOverConfigError>true</disableImpassableShotOverConfigError>
		<selectable>true</selectable>
		<fillPercent>0.2</fillPercent>
		<size>(7,5)</size>
		<destroyable>false</destroyable>
		<useHitPoints>false</useHitPoints>
		<rotatable>false</rotatable>
		<statBases>
			<Flammability>0</Flammability>
		</statBases>
		<graphicData>
			<texPath>Things/Building/Doors/VaultRampEntrance_Opened</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<drawSize>(7,5)</drawSize>
		</graphicData>
		<building>
			<paintable>false</paintable>
			<claimable>false</claimable>
			<deconstructible>false</deconstructible>
			<neverBuildable>true</neverBuildable>
			<isTargetable>false</isTargetable>
		</building>
		<thingClass>VanillaQuestsExpandedAncients.CustomPortalEntry</thingClass>
		<tickerType>Normal</tickerType>
		<portal>
			<pocketMapGenerator>VQEA_AncientComplex</pocketMapGenerator>
			<exitDef>VQEA_VaultExitRamp</exitDef>
			<pocketMapSize>150</pocketMapSize>
			<traverseSound>VQEA_TraverseVaultEntrance</traverseSound>
		</portal>
		<comps>
			<li Class="VanillaQuestsExpandedAncients.CompProperties_CustomPortal">
				<enterTexPath>Things/Building/Doors/VaultRampEntrance_Exit</enterTexPath>
				<viewDestinationTexPath>UI/Gizmo/ViewVault</viewDestinationTexPath>
				<enterCommandKey>VQE_EnterVault</enterCommandKey>
				<viewDestinationCommandKey>VQE_ViewVault</viewDestinationCommandKey>
				<viewDestinationDescKey>VQE_ViewVaultDesc</viewDestinationDescKey>
			</li>
		</comps>
	</ThingDef>

	<ThingDef ParentName="VQEA_AncientsBuildingBase">
		<defName>VQEA_VaultExitRamp</defName>
		<label>vault exit ramp</label>
		<description>A heavily reinforced vehicle ramp with personnel access stairway going up, allowing ascending back to the surface.</description>
		<altitudeLayer>FloorEmplacement</altitudeLayer>
		<passability>Impassable</passability>
		<disableImpassableShotOverConfigError>true</disableImpassableShotOverConfigError>
		<selectable>true</selectable>
		<fillPercent>1</fillPercent>
		<size>(7,5)</size>
		<destroyable>false</destroyable>
		<useHitPoints>false</useHitPoints>
		<rotatable>false</rotatable>
		<statBases>
			<Flammability>0</Flammability>
		</statBases>
		<graphicData>
			<texPath>Things/Building/Doors/VaultRampEntrance_Exit</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<drawSize>(7,5)</drawSize>
		</graphicData>
		<building>
			<paintable>false</paintable>
			<claimable>false</claimable>
			<deconstructible>false</deconstructible>
			<neverBuildable>true</neverBuildable>
			<isTargetable>false</isTargetable>
		</building>
		<thingClass>VanillaQuestsExpandedAncients.CustomPortalExit</thingClass>
		<tickerType>Normal</tickerType>
		<portal>
			<exitDef>VQEA_VaultRamp</exitDef>
			<traverseSound>VQEA_TraverseVaultEntrance</traverseSound>
		</portal>
		<comps>
			<li Class="VanillaQuestsExpandedAncients.CompProperties_CustomPortal">
				<enterTexPath>Things/Building/Doors/VaultRampEntrance_Opened</enterTexPath>
				<viewDestinationTexPath>UI/Gizmo/ViewVault</viewDestinationTexPath>
				<enterCommandKey>VQE_ExitVault</enterCommandKey>
				<viewDestinationCommandKey>CommandViewSurface</viewDestinationCommandKey>
				<viewDestinationDescKey>CommandViewSurfaceDesc</viewDestinationDescKey>
			</li>
		</comps>
	</ThingDef>

</Defs>